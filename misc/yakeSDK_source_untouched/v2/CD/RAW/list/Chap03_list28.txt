class CApp : public CAppFrame {
	//	このクラスのメンバとして、
	//	必要なクラス(入力・サウンド・描画等)を持たせる

	void MainThread() {
		CFPSTimer t;		//	FPS調整用
		t.SetFPS(30);		//	30fps
		CMouse mouse;
		while (IsThreadValid()){
			//	１フレーム分の処理をここに書く
			t.WaitFrame();
		}
	}
};

//	これがmain windowのためのクラス。
class CAppMainWindow : public CAppBase {	//	アプリケーションクラスから派生
	virtual void MainThread(){			   //  これがワーカースレッド
		CApp().Start();
	}
};

//	言わずと知れたWinMain
int APIENTRY WinMain(HINSTANCE hInstance,HINSTANCE hPrevInstance,LPSTR lpCmdLine,int nCmdShow)
{
	CAppInitializer init(hInstance,hPrevInstance,lpCmdLine,nCmdShow);
	//	必ず書いてね

	CSingleApp sapp;
	if (sapp.IsValid()) {
		CAppMainWindow().Run();
		//	上で定義したメインのウィンドゥを作成
	}

	return 0;
}
