<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META name="GENERATOR" content="IBM HomePage Builder 2001 V5.0.0 for Windows">
<TITLE>class CTextPlane</TITLE>
</HEAD><BODY bgcolor="#ccffcc" text="#336633" link="#0066cc" vlink="#009999" alink="#ff9900">
<P><FONT size="+2">class CTextPlane</FONT><A name="CTimeBase"></A> <FONT color="#ff0000">【コンポーネント<FONT color="#ff0000">】</FONT></FONT></P>
<HR>
<P><FONT size="+1" color="#009900">☆　内容</FONT></P>
<P>文字をプレーン(<A href="CPlane.html">CPlane</A>)に描画して保持するクラスです。<A href="CDIB32.html">CDIB32</A>に対する<A href="CTextDIB32.html">CTextDIB32</A>と同じ役割を果たします。</P>
<P><FONT size="+1" color="#009900">☆　メンバ関数</FONT></P>
<P><A href="CPlane.html">CPlane</A>派生クラスです。追加されたメンバは、</P>
<P><FONT color="#009900">CFont* GetFont(void);<BR>
LRESULT UpdateText(void); </FONT></P>
<P>の２つ。GetFontは、新たにメンバに追加された<A href="CFont.html">CFont</A>にアクセスするためのものです。こいつ間接で、フォントのプロパティ、テキストを設定し、UpdataTextを呼び出すことによって、その文字に応じたサーフェースサイズが確保され、そこに文字が描画されます。（以降はCPlaneのメンバを使ってBltしたりすることが出来る。プレーンなので、一度UpdateTextしてしまえば、あとは超高速）</P>
<P>CFontによって設定されている文字列がemptyのときは、このUpdateTextによって、１×１のサーフェースが作成されます。よって、文字列がemptyのときでも、UpdateTextのあとにBltFastして構いません。</P>
<P>◎　ビットマップ＋テキスト</P>
<P>その他、通常のビットマップと混合したプレーンにもできます。CTextPlaneのインスタンス対してLoadでビットマップを読み込みます。そのあと、GetFontを介してフォントを設定後、UpdateTextをすれば出来上がりです。（ただし、そのテキストを変更してUpdateTextしてもビットマップの読み直しは行ないません。これは仕様です）　またそのとき、</P>
<P>void SetTextPos(int x,int y);</P>
<P>によって、ビットマップのどの位置にテキストを描画するか設定できます。</P>
<P><FONT size="+1" color="#009900">☆　例</FONT></P>
<P>CTextPlane tp;<BR>
tp.GetFont()-&gt;SetText(&quot;こにゃにゃちわーなのだ&quot;);<BR>
tp.GetFont()-&gt;SetSize(40);<BR>
tp.UpdateText(); </P>
<HR>
</BODY></HTML>
