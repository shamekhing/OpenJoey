<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META name="GENERATOR" content="IBM HomePage Builder 2001 V5.0.0 for Windows">
<TITLE>ｙａｎｅＳＤＫ２ｎｄ　利用の手引き</TITLE>
</HEAD><BODY bgcolor="#ccffcc" text="#336633" link="#0066cc" vlink="#009999" alink="#ff9900">
<P><FONT size="+2">yaneuraoGameSDK2ndの利用の手引き</FONT></P>
<HR>
<P><FONT size="+1" color="#009999">☆　コンパイルに至るまでの手順</FONT></P>
<P>Visual C++の場合：</P>
<P><FONT size="+1" color="#ff0000">１．</FONT>ファイル→プロジェクト→新規作成→Win32 Applicationで、プロジェクト名を入力して、→空のプロジェクトを作成。</P>
<P><FONT color="#ff0000" size="+1">２．</FONT>プロジェクト→プロジェクトに追加→yaneSDKに含まれるファイルをすべて選択(YTLフォルダの中は入れなくても良い)</P>
<P><FONT size="+1" color="#ff0000">３．</FONT>プリコンパイル済みヘッダーの設定を行なう。（詳しくは、<A href="precompile.html">ここ</A>）</P>
<P><FONT size="+1" color="#ff0000">４．</FONT>そして、自分のプログラムの先頭で</P>
<P>#include &quot;yaneSDK.h&quot;</P>
<P>と書く。</P>
<P>※ ファイルがごっちゃにならないようにyaneSDKとは別のフォルダにするほうが良いかも知れません。たとえば、親フォルダにyaneSDKというフォルダを作って、そこにyaneSDKのファイルを解凍し、</P>
<P>#include &quot;../yaneSDK/yaneSDK.h&quot;</P>
<P>とするほうが、あとで差し替えるときなど楽なはずです。</P>
<P><FONT color="#ff0000" size="+1">５．</FONT>プログラムを書いていく</P>
<P>具体的には、サンプルが参考になります。サンプルを見ながら、それぞれのクラスリファレンスを簡単に参照する…という流れが一番習得が速いと思います。</P>
<P>描画・サウンド・MIDI出力・MIDI入力…等、機能単位でクラス化されているので、それぞれのクラスの説明を参考にしてください。</P>
<P>また、DirectX3以上をインストールしておくのをお忘れなく。Windows98はDirectX5が最初からインストールされますんで、不要。NTはServicePack3以上をインストールすること。コンパイルは、VisualC++6.0で確認しています。VisualC++5.0は、templateのバグがあるため、Visual
C++5.0のServicePack3を適用しないと正常にコンパイルできません。（また、yaneAcm.cppで、<FONT color="#cc0000">MP3の読み込みのために使っている構造体</FONT>が、VC++5.0では存在しないようです。最新バージョンのPlatform
SDKの中に、その定義があります。ストリーム再生のために使用している<FONT color="#cc0000">DirectShowのためのヘッダ</FONT>は、Media SDKにあったような…。Visual C++6.0ならば、このへんの用意は不要です。念のため、ServicePack4は適用しておくことをお勧めしますが）
また、DirectMusicを使う場合は、<FONT color="#cc0000">DirectX 6以降のSDKをインストール</FONT>しないとdmusic.h等のヘッダが存在しないので、コンパイルできません。もしDirectMusicを使わないのであれば、この場合、<A href="config.html">yaneConfig.h</A>でDirectMusicを使わない設定にすれば、そのインストールは不要です。</P>
<HR>
<P><FONT size="+1" color="#009999">☆　クラスの再利用性</FONT></P>
<P>各クラスは、可能な限り流用しやすくしてあります。<BR>
使用したいクラスと、そのファイルでincludeしているファイルを放り込めば、その部分のみでも使うように設計されています。</P>
<P>マルチスレッドは基本的に非対応です。</P>
<P>どのクラスが、どのファイルにあるかは、頻繁に移動させたりするので、マニュアル化していません。<BR>
（必要に応じて秀丸のgrep機能等で検索してください）</P>
<P>あと、yaneSDK2の多くの関数は、<FONT color="#009900">LRESULT</FONT>を返します。これは、成功ならば０，失敗ならば非０が返ります。</P>
<HR>
<P><FONT size="+1" color="#009999">☆　MP3の再生について</FONT></P>
<P>圧縮WAVEファイルの再生,MP3再生にも対応しました。（要CODEC）</P>
<P>圧縮WAVEファイル:<BR>
この形式のMP3ファイルを作るには、WAVEファイルをサウンドレコーダで開き、ファイル→プロパティ→形式の変換で、MPEG
Layer-3を選択し、ファイルを保存するだけでＯＫです。（拡張子はWAVになります）</P>
<P>※　NetShowがインストールされていないと、MPEG
Layer-3の選択は出てきません。</P>
<P>再生するに際しては、MPEG Layer3のCODECがインストールされている必要があります。（NetShowをインストールすれば自動的にインストールされます）</P>
<P>プログラムは、LoadWaveFileで普通のWAVファイルを読み込むのとまったく同じ要領で書けます。活用してみてください。</P>
<P>MP3のファイルも直接再生できるのですが、一部の形式には対応していない(acm側の問題)ので、なるべく圧縮WAVEを使用するようにしましょう。</P>
<P>また、圧縮WAVE,MP3はDirectSound側の問題で、44KHzまでの再生クオリティとなっています。それ以上のクオリティで保存してもファイル容量が大きくなるだけなので気をつけてください。</P>
<HR>
<P><FONT size="+1" color="#009999">☆　ＪＰＥＧの読み込みについて</FONT></P>
<P>ＪＰＥＧ画像に対応しました。ビットマップ画像を読み込んだときに、ＪＰＥＧ画像ならば自動判別して読み込みます。なおＪＰＥＧ画像は、不可逆圧縮であるため、ColorKeyつきの転送には向きません。</P>
<P>初期状態のWin95でもＪＰＥＧ画像は読み込めるようです。</P>
<P>ＧＩＦのほうは特許が絡むため公式なサポートとはしません。ＯＳの機能を利用してＪＰＥＧ画像の読み込みに対応させているため、ＯＳによっては付随して読み込めるようになっている可能性はありますが、ＧＩＦを読み込むプログラムは、特許に触れる可能性があるため、組まないようにしてください。あるいは、自己責任において行なってください。</P>
<P>またSPI(susie-plug in)にも対応しました。実行ファイルの存在するフォルダのなかに、<BR>
spi<BR>
という名前のフォルダを作成し、そこにsusie-plug
inを入れます。</P>
<P>そうすればビットマップ画像を読み込む関数を呼び出したとき、拡張子に応じて、自動的にSPIファイルが読み込まれます。たとえば</P>
<P>&quot;digico.pic&quot;</P>
<P>ならば、拡張子はpicですので、このファイルを読み込もうとしたとき</P>
<P>spi/ifpic.spi</P>
<P>というDLLが自動的に読み込まれ、普通のbmp画像と同じように読み込まれます。（ただし、SPIを使う場合、ファイルサイズが２Ｋ以下のものは読み込めません）</P>
<P>注意点：</P>
<P>ただし、上記の２つの方法で読まれたbmp以外の画像形式については、パレットの読み込みは行ないません。（２５６色モードでなければ関係ないです）　パレットが必要な場合、パレット定義ファイルをＢＭＰ画像で作成し、これらの画像のLoadBitmapに先駆けてそちらのパレットを読み込み、リアライズしておいてください。</P>
<HR>
</BODY></HTML>
